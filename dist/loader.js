function Loader(){function _load(tag){return function(url){return new Promise(function(resolve,reject){var element=document.createElement(tag),parent="body",attr="src";switch(element.onload=function(){resolve(url)},element.onerror=function(){reject(url)},tag){case"script":element.async=!0;break;case"link":element.type="text/css",element.rel="stylesheet",attr="href",parent="head"}element[attr]=url,document[parent].appendChild(element)})}}this.css=function(url){return _load("link")(url)},this.js=function(url){return _load("script")(url)};var _promises=function(objs){return objs.map(function(obj){return _load(obj.tag)(obj.src)})};this.resources=function(objs){return Promise.all(_promises(objs))}}